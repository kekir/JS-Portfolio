import '@/assets/css/style.css'

import '@fortawesome/fontawesome-free/js/all.js'
import '@fortawesome/fontawesome-free/css/all.css'

import {
  showNotification,
  stickyNav,
  sortTeam,
  showNav,
  showLogin,
  showSignup,
  slider,
} from './main'

console.log('You are viewing the My HOME Page')

// HTML CONTENT Creation/Manipulation
/*
document.createElement(tagname) - returns 1 node
document.createTextNode(text) - returns 1 text node
parent.appendChild(node) - add child to parent
parent.removeChild(node) - removes node from parent

element.innerHTML
element.textContent
*/

const createFeature = () => {
  let secFeatures = document.querySelector('.j-features')

  let div = document.createElement('div')
  div.innerHTML = `
  <i class="fa fa-fan text-2xl text-green-500"></i>
  <h3 class="mb-2 text-xl font-bold text-gray-400">JS Gnerated card</h3>
  <p class="text-gray-500 dark:text-gray-400">
  Keep your companyâ€™s lights on with customizable, iterative, and structured workflows
  built for all efficient teams and individual.
  </p> 
`
  secFeatures.appendChild(div)

  // Adds a UList
  let ul = document.createElement('ul')
  let h3 = document.createElement('h3')
  let i = document.createElement('i')
  i.className = 'fa fa-fan text-2xl text-green-500'
  h3.className = 'text-lg font-bold text-gray-400'
  h3.textContent = 'JS Generated List'
  ul.appendChild(i)
  ul.appendChild(h3)
  secFeatures.appendChild(ul)

  let movies = ['Legal', 'Compliance', 'Risk']
  movies.forEach((item) => {
    let li = document.createElement('li')
    li.className = 'text-md text-gray-400'
    let txt = document.createTextNode(item)
    li.appendChild(txt)
    ul.appendChild(li)
  })
}

const randomImage = () => {
  //declare an array to store the images
  let randomImage = new Array()

  //insert the URL of images in array
  randomImage[0] = '/img/pf-1.jpg'
  randomImage[1] = '/img/pf-2.jpg'
  randomImage[2] = '/img/pf-3.png'
  randomImage[3] = '/img/pf-4.png'
  randomImage[4] = '/img/pf-5.jpg'
  randomImage[5] = '/img/pf-6.jpg'
  randomImage[6] = '/img/pf-7.png'
  randomImage[7] = '/img/pf-7.png'
  randomImage[8] = '/img/pf-8.jpg'

  //generate a number and provide to the image to generate randomly
  let number = Math.floor(Math.random() * randomImage.length)

  let imgSet = document.querySelectorAll('.keki')

  for (let node of imgSet) {
    // console.log(node) // shows all nodes from the collection
    node.innerHTML = '<img src="' + randomImage[number] + '" />'
  }

  //return the images generated by a random number
  // return (imgSet[2].innerHTML = '<img src="' + randomImage[number] + '" />')
}

const abtComponent = () => {
  const elAbt = document.querySelector('.j-about')
  let txtSpan = elAbt.querySelector('span')
  txtSpan.textContent = 'Magic of JS'

  let txtHead = elAbt.querySelector('h2')
  txtHead.textContent = 'Images & content is manipulated by Vanilla JS'

  // console.log(txtHead.textContent)
}

//fetch using a Request and a Headers objects
const userComponent = () => {
  const uri = 'https://randomuser.me/api/?results=8'

  let req = new Request(uri, {
    method: 'GET',
    mode: 'cors',
  })

  fetch(req)
    .then((response) => {
      if (response.ok) {
        return response.json()
      } else {
        throw new Error('BAD HTTP!')
      }
    })
    .then((data) => {
      //console.log(data);

      let users = data.results
      let htmlOut = ''
      let df = new DocumentFragment()

      users.forEach((user) => {
        htmlOut += `
        <div class="w-full md:w-1/2 lg:w-1/4 p-4">
        <div class="p-6 bg-blue-100 rounded-2xl">
          <div class="j-iu-cont flex items-center mb-6 h-16 bg-gray-600">
            <span
              class="flex-shrink-0 inline-flex justify-center items-center mr-3 w-16 h-16 rounded-full"
            >
              <img
                class="j-u-pic w-16 h-16 rounded-full object-cover object-top"
                src="${user.picture.large}"
                alt=""
              />
            </span>
            <div>
              <p class="j-u-name text-md text-gray-300 font-bold">${user.name.first}</p>
            </div>
          </div>
          <div class="j-d-cont">
            <div class="flex items-center mb-3 pl-3">
              <span class="mr-3">
                <i class="fa fa-regular fa-address-card text-xl"></i>
              </span>
              <span class="j-u-email text-sm text-gray-800">${user.email}</span>
            </div>
            <div class="flex items-center mb-3 pl-3">
              <span class="mr-3">
                <i class="fa-solid fa-globe"></i>
              </span>
              <span class="j-u-web text-sm text-gray-800">${user.location.city}, ${user.location.country}</span>
            </div>

            <div class="flex items-center mb-3 pl-3">
              <span class="mr-3">
                <i class="fa-solid fa-globe"></i>
              </span>
              <span class="j-u-add text-sm text-gray-800">${user.cell}</span>
            </div>

            <div class="flex items-center justify-between mb-10 pl-3">
              <div class="flex items-center">
                <img
                  class="w-8 h-8 rounded-full object-cover object-right"
                  src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80"
                  alt=""
                />
                <img
                  class="w-8 h-8 -ml-2 rounded-full object-cover"
                  src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80"
                  alt=""
                />
                <img
                  class="w-8 h-8 -ml-2 rounded-full object-cover object-top"
                  src="https://images.unsplash.com/photo-1528936466093-76ffdfcf7a40?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80"
                  alt=""
                />
                <div
                  class="inline-flex -ml-2 items-center justify-center w-8 h-8 rounded-full bg-indigo-50 text-xs font-medium text-indigo-500"
                >
                  +3
                </div>
              </div>
              <a href="#">
                <svg
                  width="16"
                  height="16"
                  viewbox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.00001 6.66666C7.26363 6.66666 6.66668 7.26362 6.66668 8C6.66668 8.73637 7.26363 9.33333 8.00001 9.33333C8.73639 9.33333 9.33334 8.73637 9.33334 7.99999C9.33334 7.26362 8.73639 6.66666 8.00001 6.66666Z"
                    fill="#E1E4E8"
                  ></path>
                  <path
                    d="M12.6667 6.66666C11.9303 6.66666 11.3333 7.26362 11.3333 8C11.3333 8.73637 11.9303 9.33333 12.6667 9.33333C13.403 9.33333 14 8.73637 14 7.99999C14 7.26362 13.403 6.66666 12.6667 6.66666Z"
                    fill="#E1E4E8"
                  ></path>
                  <path
                    d="M3.33332 6.66666C2.59694 6.66666 1.99999 7.26362 1.99999 8C1.99999 8.73637 2.59694 9.33333 3.33332 9.33333C4.0697 9.33333 4.66666 8.73637 4.66666 7.99999C4.66666 7.26362 4.0697 6.66666 3.33332 6.66666Z"
                    fill="#E1E4E8"
                  ></path>
                </svg>
              </a>
            </div>
            <div class="relative w-full h-1 mb-3 rounded-full bg-gray-50">
              <div class="absolute top-0 left-0 h-full w-1/2 rounded-full bg-purple-500"></div>
            </div>
            <div class="flex items-center">
              <span
                class="inline-block py-1 px-2 mr-2 bg-indigo-50 rounded-full text-xs text-indigo-500"
                >Phase 2</span
              >
              <span class="text-xs text-gray-500 font-medium">Implementation</span>
            </div>
          </div>
        </div>
      </div>`
      })

      //Show On Our Screen All Data
      document.querySelector('.j-user-cont').innerHTML = htmlOut
    })
    .catch((err) => {
      console.log('ERROR:', err.message)
    })
}

showNotification()
showNav()
showLogin()
showSignup()
stickyNav()

randomImage()
abtComponent()
slider()
// userComponent()
createFeature()
sortTeam()
